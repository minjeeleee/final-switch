<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/subHeader :: subHeader">
    
</head>
<body>
<header th:replace="fragments/subBodyHeader :: subBodyHeader">
</header>

<section>
	<p>진행 중인 카드리스트</p>
	<div style="display:flex; flex-wrap: wrap;">
		<div th:each="ongoingCard : ${ongoingCardList}" th:object="${ongoingCard}" style="display:flex; flex-wrap: wrap;">
			<div class="card-container" style="width: 180px;" >
				<div class="card-name">
					<p>[[*{ongoingCard.name}]]</p>
				</div>
				<div class="grade-container">
					<div class="icon">
						<!-- 아이콘 변경 -->
						<i class="fas fa-bolt"></i>
					</div>
					<div class="user-grade">
						<p>사용자 평점</p>
						<!-- 사용자 별점 -->
						<div class="star">
							<th:block th:if="${myRate} >= 1">
								<th:block
									th:each="num : ${#numbers.sequence(1,myRate)}">
									<i class="fas fa-star full-star"></i>
								</th:block>
							</th:block>
							<th:block th:if="${myRate%1!=0}">
								<i class="fas fa-star-half-alt"></i>
							</th:block>
							<th:block
								th:each="num : ${#numbers.sequence(0,5-myRate)}">
								<i th:unless="${num == 0}" class="far fa-star"></i>
							</th:block>
						</div>
					</div>
					<div class="item-grade">
						<p>물건 평점</p>
						<!-- 물건 별점 -->
						<div class="star">
							<th:block th:each="num : *{#numbers.sequence(1,ongoingCard.condition)}">
								<i class="fas fa-star full-star"></i>
							</th:block>
							<th:block
								th:each="num : *{#numbers.sequence(0,5-ongoingCard.condition)}">
								<i th:unless="${num == 0}" class="far fa-star"></i>
							</th:block>
						</div>
					</div>
				</div>
				<div class="address">
					<!-- 주소 -->
					<p>
						지역 <span th:text="*{ongoingCard.region}"></span> <span
							th:text="*{ongoingCard.regionDetail}"></span>
					</p>
				</div>
				<div class="card">
					<input type="hidden" th:value="*{ongoingCard.condition}"> <img
						class="card-box" alt="">
					<div class="card-img">
						<!-- 카드 물건 이미지 -->
						<img th:src="*{fileDTO.getDownloadURL()}" alt="">
					</div>
				</div>
			</div>
		</div>
	</div>
	<p>신청 카드리스트</p>
	<div style="display:flex; flex-wrap: wrap;">
		<div th:each="requestCard : ${requestCardList}" th:object="${requestCard}">
			<div class="card-container" style="width: 180px;">
				<div class="card-name">
					<p>[[*{requestCard.name}]]</p>
				</div>
				<div class="grade-container">
					<div class="icon">
						<!-- 아이콘 변경 -->
						<i class="fas fa-bolt"></i>
					</div>
					<div class="user-grade">
						<p>사용자 평점</p>
						<!-- 사용자 별점 -->
						<div class="star">
							<th:block th:if="${myRate} >= 1">
								<th:block
									th:each="num : ${#numbers.sequence(1,myRate)}">
									<i class="fas fa-star full-star"></i>
								</th:block>
							</th:block>
							<th:block th:if="${myRate%1!=0}">
								<i class="fas fa-star-half-alt"></i>
							</th:block>
							<th:block
								th:each="num : ${#numbers.sequence(0,5-myRate)}">
								<i th:unless="${num == 0}" class="far fa-star"></i>
							</th:block>
						</div>
					</div>
					<div class="item-grade">
						<p>물건 평점</p>
						<!-- 물건 별점 -->
						<div class="star">
							<th:block th:each="num : *{#numbers.sequence(1,requestCard.condition)}">
								<i class="fas fa-star full-star"></i>
							</th:block>
							<th:block
								th:each="num : *{#numbers.sequence(0,5-requestCard.condition)}">
								<i th:unless="${num == 0}" class="far fa-star"></i>
							</th:block>
						</div>
					</div>
				</div>
				<div class="address">
					<!-- 주소 -->
					<p>
						지역 <span th:text="*{requestCard.region}"></span> <span
							th:text="*{requestCard.regionDetail}"></span>
					</p>
				</div>
				<div class="card">
					<input type="hidden" th:value="*{requestCard.condition}"> <img
						class="card-box" alt="">
					<div class="card-img">
						<!-- 카드 물건 이미지 -->
						<img th:src="*{fileDTO.getDownloadURL()}" alt="">
					</div>
				</div>
			</div>
		</div>
	</div>
	<p>요청받은 카드리스트</p>
	<div style="display:flex; flex-wrap: wrap;">
		<div th:each="requestedCard : ${requestedCardList}" th:object="${requestedCard}" style="display:flex; flex-wrap: wrap;">
			<div class="card-container" style="width: 180px;">
				<div class="card-name">
					<p>[[*{requestedCard.name}]]</p>
				</div>
				<div class="grade-container">
					<div class="icon">
						<!-- 아이콘 변경 -->
						<i class="fas fa-bolt"></i>
					</div>
					<div class="user-grade">
						<p>사용자 평점</p>
						<!-- 사용자 별점 -->
						<div class="star">
							<th:block th:if="${myRate} >= 1">
								<th:block th:each="num : ${#numbers.sequence(1,myRate)}">
									<i class="fas fa-star full-star"></i>
								</th:block>
							</th:block>
							<th:block th:if="${myRate%1!=0}">
								<i class="fas fa-star-half-alt"></i>
							</th:block>
							<th:block th:each="num : ${#numbers.sequence(0,5-myRate)}">
								<i th:unless="${num == 0}" class="far fa-star"></i>
							</th:block>
						</div>
					</div>
					<div class="item-grade">
						<p>물건 평점</p>
						<!-- 물건 별점 -->
						<div class="star">
							<th:block
								th:each="num : *{#numbers.sequence(1,requestedCard.condition)}">
								<i class="fas fa-star full-star"></i>
							</th:block>
							<th:block
								th:each="num : *{#numbers.sequence(0,5-requestedCard.condition)}">
								<i th:unless="${num == 0}" class="far fa-star"></i>
							</th:block>
						</div>
					</div>
				</div>
				<div class="address">
					<!-- 주소 -->
					<p>
						지역 <span th:text="*{requestedCard.region}"></span> <span
							th:text="*{requestedCard.regionDetail}"></span>
					</p>
				</div>
				<div class="card">
					<input type="hidden" th:value="*{requestedCard.condition}">
					<img class="card-box" alt="">
					<div class="card-img">
						<!-- 카드 물건 이미지 -->
						<img th:src="*{fileDTO.getDownloadURL()}" alt="">
					</div>
				</div>
			</div>
		</div>
	</div>
	
</section>

<footer>
	<div th:replace="fragments/footer :: footer"></div>
</footer>

<script type="text/javascript">
document.querySelectorAll(".card-box").forEach(function(e){
	switch(e.previousElementSibling.value){
	case '1' : e.setAttribute("src","../resources/img/ddongCard.png"); break;
	case '2' : e.setAttribute("src","../resources/img/BrownCard.png"); break;
	case '3' : e.setAttribute("src","../resources/img/silverCard.png"); break;
	case '4' : e.setAttribute("src","../resources/img/goldCard.png"); break;
	case '5' : e.setAttribute("src","../resources/img/diaCard.png"); break;
	default : console.dir("error!!!");
	};
})

document.querySelectorAll("#icon-val").forEach(function(e){
	switch(e.previousElementSibling.value){
	case '전자기기/생활가전' : e.setAttribute("class","fas fa-bolt"); break;
	case '가구/인테리어' : e.setAttribute("class","fas fa-couch"); break;
	case '유아동' : e.setAttribute("class","fal fa-baby"); break;
	case '생활/가공식품' : e.setAttribute("class","fas fa-utensils"); break;
	case '스포츠/레저' : e.setAttribute("class","fas fa-basketball-ball"); break;
	case '패션/잡화' : e.setAttribute("class","fas fa-tshirt"); break;
	case '게임/만화' : e.setAttribute("class","fas fa-gamepad"); break;
	case '뷰티/미용' : e.setAttribute("class","fas fa-air-freshener"); break;
	case '반려 동물 용품' : e.setAttribute("class","fas fa-paw"); break;
	case '도서/티켓/음반' : e.setAttribute("class","fas fa-compact-disc"); break;
	case '기타' : e.setAttribute("class","fas fa-cogs"); break;
	default : console.dir("error!!!");
	};
})
</script>

</body>
</html>