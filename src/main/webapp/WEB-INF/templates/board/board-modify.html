<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
   <head>
		<meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Switch-Switch</title>
        <!-- Favicon-->
        <link rel="icon" type="resources/img/x-icon" href="../../../resources/assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../../../resources/css/styles.css" rel="stylesheet" />
        <!-- fontawesome -->
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
		<link href="../../../resources/css/board/board.css" rel="stylesheet" />
    </head>
    
    <body>
 
 <section>
    <div class="container">   
		<div class='section'  th:object="${datas}">
					<form class='frm_post' th:action="|/board/modify?${_csrf.parameterName}=${_csrf.token}|" method="post" enctype="multipart/form-data">
				<div class='frm_header_area'>
					<h2 class='sub_title'>정보공유 수정페이지</h2>				
				</div>
				<div class='frm_title_area'>
					<div>
					제목 : <input type="text" class="post_title" name="title" required="required" th:value="*{board.title}" placeholder='제목을 입력하세요'>
					</div>
				</div>
				<div class='frm_content_area'>
					<textarea id="editor1" name="content" required="required" th:text="*{board.content}" data-sample-short></textarea>
				</div>			
				<div class="add_file_box">파일 : <input type="file" name="files" id="contract_file" multiple/></div>
				<div class='info file_info'>
					<ol>
					<!--파일 삭제 처리필요  -->
						<li th:each="file : ${datas.files}" th:object="${file}"
							th:onclick="|removeFile(this,*{flIdx})|"><a> 
								[[*{originFileName}]] <b>x</b>
						</a></li>
					</ol>
				</div>
					<div class='btn_area'>
							<button id="btnModify" class="btn">수정</button>
							<a id="btnSubmit" class="btn" th:href="@{/board/board-list}">목록</a>
					</div>
				<input type="hidden" name="bdIdx" th:value="*{board.bdIdx}"/>
			</form>
			</div>
		</div>
  </section>
<script type="text/javascript">
let removeFile = (e,flIdx) => {

	e.style.display = 'none';	

	let hidden = document.createElement('input');
	hidden.type='hidden';
	hidden.name='removeFlIdx';
	hidden.value= flIdx;
	document.querySelector('form').append(hidden);
}



</script>
</body>
</html>
