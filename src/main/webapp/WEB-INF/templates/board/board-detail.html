<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>        
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Switch-Switch</title>
        <!-- Favicon-->
        <link rel="icon" type="resources/img/x-icon" href="../../../resources/assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../../../resources/css/board/styles.css" rel="stylesheet" />
        <!-- fontawesome -->
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
		<link href="../../../resources/css/board/board.css" rel="stylesheet" />

</head>
<body>

	<section>
		<div class="container">

			<div class='section'  th:object="${datas}">
				
				<div class='section_wrap'>
					<div class="section_top">
						<h2>정보공유 상세페이지</h2>
						<form class='frm_post' th:action="|/board/delete?${_csrf.parameterName}=${_csrf.token}|"  th:value="|/board/delete?bdIdx=${datas.board.bdIdx}|" method="post" enctype="multipart/form-data">

						<div class='btn_area' >		
						
							<a class="btn" th:href="@{/board/board-modify(bdIdx=${datas.board.bdIdx})}">글수정</a> 
							<!-- <a class="btn" th:href="/delete?bdIdx=${datas.board.bdIdx}">글삭제</a>  -->
							<button id="btnDelete" class="btn" >삭제</button> 
							<a class="btn"><span class="btn" onclick="alert('이전글이 없습니다.');">이전글</span></a> 
							<a class="btn"><span onclick="alert('다음글이 없습니다.');">다음글</span></a> 
							<a class="btn" th:href="@{/board/board-list}">목록</a>
						</div>
						
						</form>
					</div>


					<div class="section_content_box">
						<div class="section_header">
							<div class="section_title">
								<span th:text="|제목 : *{board.title}|"></span>
							</div>
							<div class="writer_info">

								<div class="writer_profile" >
									<span th:text="|등록일 : *{board.regDate}|"></span>
									<span th:text="|작성자 : *{board.userId}|"></span>
								</div>
								<div class="info file_info">
									<ol>
										<li th:each="file : ${datas.files}" th:object="${file}">
											<a th:onclick="downloadFile([[*{originFileName}]],[[*{renameFileName}]],[[*{savePath}]])">
												[[*{originFileName}]]
											</a>
										</li>		
									</ol>
								</div>
							</div>
						</div>
						<div class="section_container">
							<pre>[[*{board.content}]]</pre>

						</div>
								
								<div>
									<div class="cmt_wrap">
										<div class="cmt_info">
											<div>
												작성자 <a href="/reply/delete-reply?rp_idx=${reply.rpIdx }&bdIdx=${board.bdIdx }" style="margin-left: 10px;"><i class="fas fa-times"></i></a>
											</div>

										</div>
										<div>좋은 정보 감사합니다.</div>
									</div>
								</div>

								<form class="frm_write_cmt" action="/reply/add-reply?bdIdx=${board.bdIdx }" method="POST">
									<div class="cmt_write_box">
										<div class="cmt_writer_id"></div>
										<textarea name="content" placeholder="댓글을 입력하세요" required="required"></textarea>
										<button class="cmt_write_btn">등록</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>

	</section>
	<script type="text/javascript">
		let downloadFile = (ofn,rfn,path) => {
			let paramObj = {
					originFileName : ofn,
					renameFileName : rfn,
					savePath : path
			}
			location.href = '/download?' + urlEncoder(paramObj);
		}
	</script>
</body>
</html>